Beware, this MLO it's terrible and I lost countless hours trying to fix the worst topology seen by an human.
The previous version was the embodiment of the worst possible practices a developer can engage in.
This version was improved as much as my mental health could handle, still a DOA by any means.